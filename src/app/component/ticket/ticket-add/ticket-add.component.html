<header [ngClass]="{'d-none':stepFour}">
    <a href="javascript:void(0);" (click)="prev()">
      <img src="./assets/images/back.png" alt="">
    </a>
    <h2>Add Ticket</h2>
    <a href="javascript:void(0);" routerLink="/product/list">
      <img src="./assets/images/cut-icon.png" alt="">
    </a>
</header>
<div class="progress-bar-container" [ngClass]="{'d-none':stepFour}">
    <ul class="progress_bar">
        <li id="f-child-none" [ngClass]="{'active':stepOne || stepTwo || stepThree,'white':stepOne}"></li>
        <li [ngClass]="{'active':stepTwo || stepThree,'white':stepTwo}"></li>
        <li [ngClass]="{'active':stepThree,'white':stepThree}"></li>
    </ul>
</div>

  <div id="step_one" *ngIf="stepOne">
    <form class="addProductForm" #ticketFirstForm="ngForm" (ngSubmit)="firstTab(ticketFirstForm)">
      <label>Issue details <span class="op">*</span></label>
      <select class="form-control" name="issueType" id="issueType" #issueType="ngModel"  [ngModel]="addTicketValue.issueType" required [ngClass]="{'is-invalid':issueType?.invalid && issueType?.touched}" >
          <option value="" hidden>-select-</option>
          <option value="Repair">Repair</option>
          <option value="Manufacturer">Manufacturer</option>
      </select>
      <label>Function details <span class="op">*</span></label>
      <select class="form-control mt-2" name="functionType" id="functionType" #functionType="ngModel"  [ngModel]="addTicketValue.functionType" required [ngClass]="{'is-invalid':functionType?.invalid && functionType?.touched}">
          <option value="" hidden>-select-</option>
          <option value="Not Functioning">Not Functioning</option>
          <option value="Functioning">Functioning</option>
      </select>
      <label>Description <span class="op">*</span></label>
      <textarea class="form-control mt-2" rows="4" placeholder="Describe the problem in detail" name="description" #description="ngModel" [ngModel]="addTicketValue.description"></textarea>
      <span class="text-danger">{{errorMessage}}</span>
      <button class="submit-btn" type="submit">Raise Ticket</button>
    </form>
  </div>
  <div id="step_two" *ngIf="stepTwo" class="scroll-section">
    <form class="addProductForm" #ticketSecondForm="ngForm" (ngSubmit)="secondTab(ticketSecondForm)">
      <div class="c-color-swatch mx-auto">
          <input type="radio" name="transportationType" #transportationType="ngModel" [ngModel]="addTicketValue.transportationType" value="Carry In" id="color-F9ED69" hidden/>
          <label class="c-color-swatch__item" for="color-F9ED69"><img src="./assets/images/carryin.png">Carry-In</label>
          
          <input type="radio" name="transportationType" #transportationType="ngModel" [ngModel]="addTicketValue.transportationType" value="Pick Up" id="color-F08A5D" hidden/>
          <label class="c-color-swatch__item" for="color-F08A5D"><img src="./assets/images/pickup.png">Pick-Up</label>
          
          <input type="radio" name="transportationType" #transportationType="ngModel" [ngModel]="addTicketValue.transportationType" value="On Site" id="color-B83B5E" hidden checked/>
          <label class="c-color-swatch__item" for="color-B83B5E"><img src="./assets/images/onsite.png">On Site</label>
      </div>
      <textarea class="form-control mt-2" rows="4" placeholder="Address" name="address" #address="ngModel" [ngModel]="addTicketValue.address"></textarea>
      <span *ngFor="let multAddress of addressCount.data; let i = index">
        <textarea class="form-control mt-2" rows="4" placeholder="Address" #multipleAddress name="multipleAddresses_{{i}}" [(ngModel)]="multAddress.addresses">{{multAddress.addresses}}</textarea>
      </span>
      <a href="javascript:void(0);" (click)="addMoreAddress()" class="mt-2 btn btn-primary">Add Address</a>
      <span class="text-danger">{{errorMessage}}</span>
      <button class="submit-btn" type="submit">Raise Ticket</button>
    </form>
  </div>
  <div id="step_three" *ngIf="stepThree">
    <form class="addProductForm" #ticketThirdForm="ngForm" (ngSubmit)="thirdTab(ticketThirdForm)">
      <label>Select Date <span class="op">*</span></label>
      <mat-form-field appearance="fill">
        <input matInput [matDatepicker]="picker" placeholder="DD/MM/YYYY" class="datepicker" name="selectedDate" #selectedDate="ngModel" [ngModel]="addTicketValue.selectedDate">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <label>Select Time <span class="op">*</span></label>
      <input type="time" id="datetime" name="selectedTime" #selectedTime="ngModel" [ngModel]="addTicketValue.selectedTime" placeholder="time" class=" form-control mb-2">
      <span class="text-danger">{{errorMessage}}</span>
      <button class="submit-btn" type="submit">Raise Ticket</button>
    </form>
  </div> 
  <div id="step_four" *ngIf="stepFour" class="pl-3 pr-3 mt-5">
    <div id="ticket-box" class="ticketBox">
      <div class="ticketTop">
        <img src="./assets/images/done3.png" alt="">
        <div class="ticketTopTxt mt-5">
          <h3>
              Service request raised!
              <span class="d-block">We'll reach shortly.</span>
          </h3>
          <p>Disclaimer: Subject to the availability of Service Provider* </p>
        </div>
      </div>
      <div class="ticketBottom text-center">
        <p>Your wevouch ticket no.</p>
        <h1>{{addedTicketDetail.uniqueId}}</h1>
        <a href="javascript:void(0);" routerLink="/ticket/list">Go To Tickets</a>
      </div>
    </div>
  </div>
  
